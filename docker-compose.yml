services:
  misub:
    image: ghcr.io/imzyb/misub:latest
    ports:
      - "8080:8080"
    environment:
      # VPS部署：使用8080端口
      PORT: 8080
      MISUB_DB_PATH: /app/data/misub.db
      ADMIN_PASSWORD: "admin123"
      COOKIE_SECRET: "change_me_too-change_me_too"
      # CORS_ORIGINS: "https://example.com,http://localhost:5173"
      ## ⚠️ 使用反向代理时必须设置此项，否则订阅转换的回调 URL 可能错误
      # MISUB_PUBLIC_URL: "https://your-domain.com"
      # MISUB_CALLBACK_URL: "https://your-domain.com"
      ## 如需访问使用自签名 TLS 证书的订阅源，取消下行注释
      # NODE_TLS_REJECT_UNAUTHORIZED: "0"
    volumes:
      - ./data:/app/data
    restart: unless-stopped
