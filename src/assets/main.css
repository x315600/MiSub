@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  /* 确保根元素充满整个视口高度 */
  html,
  body,
  #app {
    height: 100%;
    margin: 0;
    padding: 0;
    background-color: #f9fafb; /* 浅色模式下的默认背景色 */
  }

  /* 暗黑模式下的背景色 */
  html.dark,
  html.dark body,
  html.dark #app {
    background-color: #0A0F1F; /* 深灰蓝 */
  }
}


/* 全局字体渲染优化 */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.list-item-animation {
  /* 初始状态：向上移动一点点并且透明 */
  transform: translateY(20px);
  opacity: 0;
  /* 动画定义：使用 calc() 和 CSS 变量来创建交错延迟 */
  animation: slide-up 0.4s ease-out forwards;
  animation-delay: calc(var(--delay-index) * 50ms); /* 核心：每个卡片的延迟时间 = 索引 * 50毫秒 */
}

@keyframes slide-up {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* 自定义滚动条样式，使其与主题匹配 */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background-color: transparent;
}
::-webkit-scrollbar-thumb {
  background-color: #4f46e5; /* 靛蓝色 */
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background-color: #4338ca; /* 深一点的靛蓝色 */
}

/* 为所有按钮增加一个更柔和的点击动效 */
button {
    /* 确保所有变换都有平滑过渡 */
    transition: all 0.2s ease-in-out;
}
button:active {
    /* 点击时轻微缩放，提供物理反馈 */
    transform: scale(0.95);
    /* 新增：点击时稍微变暗，增强物理反馈感 */
    filter: brightness(0.95);
}

/* 移动端优化 */
@media (max-width: 768px) {
  /* 确保移动端的按钮有足够的点击区域 */
  button {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* 移动端的卡片按钮组更容易操作 */
  .shrink-0.flex.items-center.gap-1 {
    gap: 0.5rem;
  }
  
  /* 移动端的按钮图标稍微大一点 */
  .shrink-0.flex.items-center.gap-1 svg {
    width: 1.25rem;
    height: 1.25rem;
  }
  
  /* 移动端下拉菜单优化 */
  .absolute.mt-2 {
    z-index: 50;
    min-width: 120px;
  }
  
  /* 移动端搜索框优化 */
  input[type="text"] {
    font-size: 16px; /* 防止iOS缩放 */
  }
}
